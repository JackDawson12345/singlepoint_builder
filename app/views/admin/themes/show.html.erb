<!-- app/views/admin/themes/show.html.erb -->
<div class="container">
  <div class="row">
    <div class="col-md-8">
      <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
          <h2><%= @theme.name %></h2>
          <div>
            <%= link_to "Edit", edit_admin_theme_path(@theme), class: "btn btn-primary" %>
            <%= link_to "Delete", admin_theme_path(@theme), method: :delete,
                        confirm: "Are you sure?", class: "btn btn-danger" %>
          </div>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-4">
              <% if @theme.image.attached? %>
                <%= image_tag @theme.image, class: "img-fluid rounded" %>
              <% else %>
                <div class="bg-light p-4 text-center rounded">
                  <i class="fas fa-image fa-3x text-muted"></i>
                  <p class="text-muted mt-2">No image uploaded</p>
                </div>
              <% end %>
            </div>
            <div class="col-md-8">
              <h5>Description</h5>
              <p class="text-muted"><%= simple_format(@theme.description) %></p>

              <h5>Pages</h5>
              <% if @theme.pages.present? %>
                <% pages_array = @theme.pages.is_a?(Array) ? @theme.pages : [@theme.pages] %>
                <div class="d-flex flex-wrap">
                  <% pages_array.each do |page| %>
                    <span class="badge bg-secondary me-2 mb-2"><%= page %></span>
                  <% end %>
                </div>
              <% else %>
                <p class="text-muted">No pages specified</p>
              <% end %>

              <h5 class="mt-4">Details</h5>
              <ul class="list-unstyled">
                <li><strong>Created:</strong> <%= @theme.created_at.strftime("%B %d, %Y at %I:%M %p") %></li>
                <li><strong>Last Updated:</strong> <%= @theme.updated_at.strftime("%B %d, %Y at %I:%M %p") %></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="mt-3">
    <%= link_to "← Back to Themes", admin_themes_path, class: "btn btn-outline-secondary" %>
  </div>
</div>